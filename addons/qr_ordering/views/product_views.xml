<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- Product Template Form Extension -->
    <record id="product_template_form_view_qr_ordering" model="ir.ui.view">
        <field name="name">product.template.form.qr.ordering</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="QR Ordering / 扫码点餐" name="qr_ordering">
                    <group>
                        <group string="Display Settings / 显示设置">
                            <field name="qr_available"/>
                            <field name="qr_highlight"/>
                            <field name="qr_sold_out"/>
                        </group>
                        <group string="Tags / 标签">
                            <field name="qr_tags" widget="many2many_tags" options="{'color_field': 'color'}"/>
                        </group>
                    </group>
                    <group string="Description / 描述">
                        <field name="qr_short_desc" placeholder="Short description for QR ordering page..."/>
                    </group>
                    <group string="Video / 视频">
                        <group>
                            <field name="qr_video" filename="qr_video_filename"/>
                            <field name="qr_video_filename" invisible="1"/>
                        </group>
                        <group>
                            <field name="qr_video_url" placeholder="https://youtube.com/... or CDN URL"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    
    <!-- Product Tag Tree View -->
    <record id="qr_product_tag_view_tree" model="ir.ui.view">
        <field name="name">qr.product.tag.view.tree</field>
        <field name="model">qr.product.tag</field>
        <field name="arch" type="xml">
            <list string="Product Tags" editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="icon"/>
                <field name="name"/>
                <field name="tag_type"/>
                <field name="color" widget="color"/>
            </list>
        </field>
    </record>
    
    <!-- Product Tag Action -->
    <record id="qr_product_tag_action" model="ir.actions.act_window">
        <field name="name">Product Tags / 菜品标签</field>
        <field name="res_model">qr.product.tag</field>
        <field name="view_mode">list</field>
    </record>
    
</odoo>

